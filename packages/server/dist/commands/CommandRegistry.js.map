{
  "version": 3,
  "sources": ["../../../../src/server/commands/CommandRegistry.ts"],
  "sourcesContent": ["export interface ICommand {\n    name: string;\n    description: string;\n    usage?: string;\n    aliases?: string[];\n    minAdmin?: number;\n    category?: string; // Acum este op\u021Bional, va fi completat de loader\n    execute: (player: PlayerMp, args: string[], fullText: string) => void;\n}\n\nif (!(global as any).commandMap) {\n    (global as any).commandMap = new Map<string, ICommand>();\n    (global as any).aliasMap = new Map<string, string>();\n}\n\nconst commands: Map<string, ICommand> = (global as any).commandMap;\nconst aliases: Map<string, string> = (global as any).aliasMap;\n\nexport function register(cmd: ICommand) {\n    const mainName = cmd.name.toLowerCase();\n    \n    // Prelu\u0103m categoria din contextul global setat de manager \u00EEn timpul \u00EEnc\u0103rc\u0103rii\n    if (!cmd.category && (global as any).currentLoadingCategory) {\n        cmd.category = (global as any).currentLoadingCategory;\n    }\n\n    commands.set(mainName, cmd);\n    \n    if (cmd.aliases) {\n        cmd.aliases.forEach(alias => {\n            aliases.set(alias.toLowerCase(), mainName);\n        });\n    }\n}\n\nexport function findCommand(name: string): ICommand | undefined {\n    const lowerName = name.toLowerCase();\n    const mainName = aliases.get(lowerName) || lowerName;\n    return commands.get(mainName);\n}\n\nexport function getAllCommands(): ICommand[] {\n    return Array.from(commands.values());\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,IAAI,CAAE,OAAe,YAAY;AAC7B,EAAC,OAAe,aAAa,oBAAI,IAAsB;AACvD,EAAC,OAAe,WAAW,oBAAI,IAAoB;AACvD;AAEA,MAAM,WAAmC,OAAe;AACxD,MAAM,UAAgC,OAAe;AAE9C,SAAS,SAAS,KAAe;AACpC,QAAM,WAAW,IAAI,KAAK,YAAY;AAGtC,MAAI,CAAC,IAAI,YAAa,OAAe,wBAAwB;AACzD,QAAI,WAAY,OAAe;AAAA,EACnC;AAEA,WAAS,IAAI,UAAU,GAAG;AAE1B,MAAI,IAAI,SAAS;AACb,QAAI,QAAQ,QAAQ,WAAS;AACzB,cAAQ,IAAI,MAAM,YAAY,GAAG,QAAQ;AAAA,IAC7C,CAAC;AAAA,EACL;AACJ;AAEO,SAAS,YAAY,MAAoC;AAC5D,QAAM,YAAY,KAAK,YAAY;AACnC,QAAM,WAAW,QAAQ,IAAI,SAAS,KAAK;AAC3C,SAAO,SAAS,IAAI,QAAQ;AAChC;AAEO,SAAS,iBAA6B;AACzC,SAAO,MAAM,KAAK,SAAS,OAAO,CAAC;AACvC;",
  "names": []
}
