{
  "version": 3,
  "sources": ["../../../../../src/server/commands/admin/core.ts"],
  "sourcesContent": ["import { register } from \"../CommandRegistry\";\nimport { AdminLevel } from \"../../config/AdminLevels\";\nimport { AuthService } from \"../../services/AuthService\";\nimport { Logger } from \"../../utils/Logger\";\n\nregister({\n    name: \"veh\",\n    description: \"Spawn-eaza un vehicul temporar.\",\n    usage: \"/veh <model>\",\n    aliases: [\"v\", \"car\"],\n    minAdmin: AdminLevel.Admin,\n    category: \"admin\",\n    execute: (player, args) => {\n        if (!args[0]) return player.outputChatBox(\"!{#FF0000}Utilizare: !{#FFFFFF}/veh <model>\");\n        const model = args[0];\n        try {\n            const veh = mp.vehicles.new(mp.joaat(model), player.position, {\n                heading: player.heading,\n                dimension: player.dimension\n            });\n            player.putIntoVehicle(veh, 0);\n            player.outputChatBox(`!{#55FF55}Vehicul spawnat cu succes: !{#FFFFFF}${model}`);\n        } catch (e) {\n            player.outputChatBox(\"!{#FF0000}Eroare: !{#FFFFFF}Modelul vehiculului este invalid.\");\n        }\n    }\n});\n\nregister({\n    name: \"goto\",\n    description: \"Teleporteaza-te la pozitia unui jucator.\",\n    usage: \"/goto <id>\",\n    aliases: [\"tp\"],\n    minAdmin: AdminLevel.Moderator,\n    category: \"admin\",\n    execute: (player, args) => {\n        if (!args[0]) return player.outputChatBox(\"!{#FF0000}Utilizare: !{#FFFFFF}/goto <id>\");\n        const target = mp.players.at(parseInt(args[0]));\n        if (!target) return player.outputChatBox(\"!{#FF0000}Eroare: !{#FFFFFF}Jucator offline.\");\n        \n        player.position = target.position;\n        player.dimension = target.dimension;\n        player.outputChatBox(`!{#55FF55}Info: !{#FFFFFF}Te-ai teleportat la ${target.name}.`);\n    }\n});\n\nregister({\n    name: \"gethere\",\n    description: \"Teleporteaza un jucator la pozitia ta.\",\n    usage: \"/gethere <id>\",\n    minAdmin: AdminLevel.Admin,\n    category: \"admin\",\n    execute: (player, args) => {\n        if (!args[0]) return player.outputChatBox(\"!{#FF0000}Utilizare: !{#FFFFFF}/gethere <id>\");\n        const target = mp.players.at(parseInt(args[0]));\n        if (!target) return player.outputChatBox(\"!{#FF0000}Eroare: !{#FFFFFF}Jucator offline.\");\n        \n        target.position = player.position;\n        target.dimension = player.dimension;\n        player.outputChatBox(`!{#55FF55}Info: !{#FFFFFF}L-ai adus pe ${target.name} la tine.`);\n        target.outputChatBox(`!{#FFFF00}Info: !{#FFFFFF}Adminul ${player.name} te-a adus la el.`);\n    }\n});\n\nregister({\n    name: \"setadmin\",\n    description: \"Modifica nivelul administrativ al unui jucator.\",\n    usage: \"/setadmin <id> <nivel 0-5>\",\n    minAdmin: AdminLevel.Owner,\n    category: \"admin\",\n    execute: async (player, args) => {\n        if (args.length < 2) return player.outputChatBox(\"!{#FF0000}Utilizare: !{#FFFFFF}/setadmin <id> <0-5>\");\n        const target = mp.players.at(parseInt(args[0]));\n        const level = parseInt(args[1]);\n        if (!target) return player.outputChatBox(\"!{#FF0000}Eroare: !{#FFFFFF}Jucator offline.\");\n        \n        const db = (target as any).dbData;\n        if (db) {\n            db.adminLevel = level;\n            await db.save();\n            player.outputChatBox(`!{#55FF55}Admin: !{#FFFFFF}Gradul lui ${target.name} a fost setat la ${level}.`);\n            target.outputChatBox(`!{#FFFF00}Admin: !{#FFFFFF}Ai primit gradul ${level} de la ${player.name}.`);\n        }\n    }\n});\n\nregister({\n    name: \"stopserver\",\n    description: \"Opreste serverul si salveaza progresul tuturor jucatorilor.\",\n    minAdmin: AdminLevel.Owner,\n    category: \"admin\",\n    execute: async (player) => {\n        mp.players.broadcast(\"!{#FF0000}SERVER: !{#FFFFFF}Se efectueaza o salvare generala. Serverul se va inchide...\");\n        Logger.warn(`INCHIDERE SERVER declansata de ${player.name}`);\n        \n        const players = mp.players.toArray();\n        for (const p of players) {\n            await AuthService.savePlayer(p);\n        }\n        \n        setTimeout(() => process.exit(0), 1000);\n    }\n});"],
  "mappings": "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",
  "names": []
}
